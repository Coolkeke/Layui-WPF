<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Lay="clr-namespace:LayUI.Wpf.Controls">
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="pack://application:,,,/LayUI.Wpf;component/Style/Default/ButtonStyle.xaml" />
        <ResourceDictionary Source="pack://application:,,,/LayUI.Wpf;component/Style/Default/ToggleButtonStyle.xaml" />
    </ResourceDictionary.MergedDictionaries>
    <Style x:Key="LayKeyboardStyle" TargetType="Lay:LayKeyboard">
        <Setter Property="Padding" Value="1,0" />
        <Setter Property="Focusable" Value="false" />
        <Setter Property="Foreground" Value="White" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="CornerRadius" Value="{DynamicResource ControlCornerRadiusBase}" />
        <Setter Property="ExtendButtonStyle">
            <Setter.Value>
                <Style BasedOn="{StaticResource LayKeyboardToggleButtonStyle}" TargetType="Lay:LayToggleButton">
                    <Setter Property="Background" Value="{DynamicResource Green}" />
                    <Setter Property="HoverBackground" Value="{DynamicResource LightGreen}" />
                    <Setter Property="Width" Value="auto" />
                    <Setter Property="CornerRadius" Value="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=CornerRadius}" />
                    <Setter Property="Foreground" Value="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=Foreground}" />
                    <Setter Property="Height" Value="auto" />
                    <Setter Property="Margin" Value="1" />
                    <Setter Property="VerticalContentAlignment" Value="Stretch" />
                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="DefaultButtonStyle">
            <Setter.Value>
                <Style BasedOn="{StaticResource LayButtonStyle}" TargetType="Lay:LayButton">
                    <Setter Property="Type" Value="Default" />
                    <Setter Property="Width" Value="auto" />
                    <Setter Property="Height" Value="auto" />
                    <Setter Property="CornerRadius" Value="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=CornerRadius}" />
                    <Setter Property="Margin" Value="1" />
                    <Setter Property="Foreground" Value="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=Foreground}" />
                    <Setter Property="VerticalContentAlignment" Value="Stretch" />
                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Lay:LayKeyboard">
                    <ControlTemplate.Resources>
                        <Style x:Key="SymbolTextBlockStyle" TargetType="TextBlock">
                            <Setter Property="Opacity" Value=".5" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsShiftExtend}" Value="true">
                                    <Setter Property="Opacity" Value="1" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                        <Style x:Key="NumberTextBlockStyle" TargetType="TextBlock">
                            <Setter Property="Opacity" Value="1" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsShiftExtend}" Value="true">
                                    <Setter Property="Opacity" Value=".5" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ControlTemplate.Resources>
                    <Border
                        Padding="{TemplateBinding Padding}"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="{TemplateBinding CornerRadius}"
                        Focusable="{TemplateBinding Focusable}">
                        <Grid x:Name="PART_KeysRoot" Focusable="{TemplateBinding Focusable}">
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <ItemsControl Focusable="{TemplateBinding Focusable}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <Grid Focusable="{TemplateBinding Focusable}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                        </Grid>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <Lay:LayButton
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.Escape}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Esc" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="2"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.OemTilde}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="~" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="`" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="4"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.D1}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="!" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="1" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="6"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.D2}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="@" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="2" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="8"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.D3}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="#" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="3" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="10"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.D4}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="$" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="4" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="12"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.D5}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="%" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="5" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="14"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.D6}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="^" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="6" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="16"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.D7}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="&amp;" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="7" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="18"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.D8}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="*" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="8" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="20"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.D9}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="(" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="9" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="22"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.D0}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text=")" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="0" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="24"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.OemMinus}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="-" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Top"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="—" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="26"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.OemPlus}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="+" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="=" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="28"
                                    Grid.ColumnSpan="3"
                                    CommandParameter="{Binding Source={x:Static Key.Back}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Backspace" />
                                    </Grid>
                                </Lay:LayButton>
                            </ItemsControl>
                            <ItemsControl Grid.Row="1" Focusable="{TemplateBinding Focusable}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <Grid Focusable="{TemplateBinding Focusable}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                        </Grid>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <Lay:LayButton
                                    Grid.ColumnSpan="3"
                                    CommandParameter="{Binding Source={x:Static Key.Tab}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Tab" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="3"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.Q}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Tag="letter">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="q" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="Q" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="5"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.W}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="w" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="W" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="7"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.E}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="e" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="E" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="9"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.R}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="r" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="R" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="11"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.T}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="t" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="T" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="13"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.Y}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="y" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="Y" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="15"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.U}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="u" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="U" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="17"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.I}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="i" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="I" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="19"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.O}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="o" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="O" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="21"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.P}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="p" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="P" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="23"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.OemOpenBrackets}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="{}{" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="[" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="25"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.OemCloseBrackets}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="{}}" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="]" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="27"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.OemBackslash}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="|" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="\" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="29"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.Delete}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Del" />
                                    </Grid>
                                </Lay:LayButton>
                            </ItemsControl>
                            <ItemsControl Grid.Row="2" Focusable="{TemplateBinding Focusable}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <Grid Focusable="{TemplateBinding Focusable}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                        </Grid>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <Lay:LayToggleButton
                                    Grid.ColumnSpan="4"
                                    CommandParameter="{Binding Source={x:Static Key.CapsLock}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    IsChecked="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsCapsLock, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Style="{TemplateBinding ExtendButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.Style>
                                            <Style TargetType="Grid">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="false">
                                                        <Setter Property="Opacity" Value="0.5" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Grid.Style>
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Caps" />
                                    </Grid>
                                </Lay:LayToggleButton>
                                <Lay:LayButton
                                    Grid.Column="4"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.A}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="a" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="A" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="6"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.S}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="s" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="S" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="8"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.D}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="d" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="D" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="10"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.F}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="f" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="F" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="12"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.G}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="g" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="G" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="14"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.H}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="h" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="H" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="16"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.J}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="j" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="J" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="18"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.K}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="k" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="K" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="20"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.L}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="l" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="L" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="22"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.OemSemicolon}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text=":" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text=";" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="24"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.OemQuotes}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="&quot;" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="'" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="26"
                                    Grid.ColumnSpan="5"
                                    CommandParameter="{Binding Source={x:Static Key.Enter}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Ent" />
                                    </Grid>
                                </Lay:LayButton>
                            </ItemsControl>
                            <ItemsControl Grid.Row="3" Focusable="{TemplateBinding Focusable}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <Grid Focusable="{TemplateBinding Focusable}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                        </Grid>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <Lay:LayButton
                                    Grid.ColumnSpan="5"
                                    CommandParameter="{Binding Source={x:Static Key.LeftShift}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Shift" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="5"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.Z}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="z" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="Z" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="7"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.X}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="x" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="X" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="9"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.C}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="c" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="C" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="11"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.V}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="v" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="V" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="13"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.B}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="b" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="B" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="15"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.N}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="n" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="N" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="17"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.M}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Text" Value="m" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCapsLock}" Value="true">
                                                            <Setter Property="Text" Value="M" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="19"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.OemComma}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="&lt;" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="," />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="21"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.OemPeriod}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="&gt;" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="." />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="23"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.OemQuestion}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.RowDefinitions>
                                            <RowDefinition />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <TextBlock
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Style="{DynamicResource SymbolTextBlockStyle}"
                                            Text="?" />
                                        <TextBlock
                                            Grid.Row="1"
                                            HorizontalAlignment="Center"
                                            Style="{DynamicResource NumberTextBlockStyle}"
                                            Text="/" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayToggleButton
                                    Grid.Column="25"
                                    Grid.ColumnSpan="6"
                                    CommandParameter="{Binding Source={x:Static Key.RightShift}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding ExtendButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.Style>
                                            <Style TargetType="Grid">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsShiftExtend}" Value="false">
                                                        <Setter Property="Opacity" Value="0.5" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Grid.Style>
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Shift" />
                                    </Grid>
                                </Lay:LayToggleButton>
                            </ItemsControl>
                            <ItemsControl Grid.Row="4" Focusable="{TemplateBinding Focusable}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <Grid Focusable="{TemplateBinding Focusable}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                        </Grid>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <Lay:LayButton
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.LeftCtrl}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Ctrl" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="2"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.LWin}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Path
                                            Width="20"
                                            Height="15"
                                            Data="M424.43466,399.74806 C493.42392,446.14577 563.97372,480.18709 726.09103,424.73311 L650.42978,687.97658 C491.2883,753.80891 414.88821,716.5616 345.99005,669.84767 z M236.37262,321.17564 C298.32809,322.06227 341.99701,345.62209 382.83728,373.34572 L303.39697,646.3904 C234.37805,599.95894 159.31342,561.75478 0,627.61378 L77.643356,357.52541 78.567398,357.12733 C143.03073,330.57668 193.98203,320.56902 236.37262,321.17564 z M515.85379,82.143463 C584.67416,128.51048 661.08035,165.45695 820.06839,99.756622 L741.74142,370.81508 C589.30154,439.02663 506.19272,400.75801 437.42551,354.13008 z M324.21539,0.010238647 C388.18082,0.58680725 432.70175,25.404709 474.46207,53.649506 L396.05737,324.12367 C354.54489,296.15364 309.85916,270.01021 246.38962,269.54152 204.52515,269.21919 154.6799,281.12944 91.378174,307.27287 L169.789,35.520615 C229.48856,10.837326 277.55893,0.65579224 317.96393,0.030822754 320.06836,-0.0017242432 322.15198,-0.0083465576 324.21539,0.010238647 z"
                                            Fill="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayButton}, Path=Foreground}"
                                            Stretch="Fill" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="4"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.LeftCtrl}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Alt" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="6"
                                    Grid.ColumnSpan="17"
                                    CommandParameter="{Binding Source={x:Static Key.Space}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Path
                                        Height="1.5"
                                        MaxWidth="200"
                                        Margin="10"
                                        Data="M0,0 L1024,0 L1024,2 L0,2 z"
                                        Fill="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayButton}, Path=Foreground}"
                                        Stretch="Fill" />
                                </Lay:LayButton>
                                <Lay:LayToggleButton
                                    Grid.Column="23"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.RightAlt}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding ExtendButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.Style>
                                            <Style TargetType="Grid">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsAltExtend}" Value="false">
                                                        <Setter Property="Opacity" Value="0.5" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Grid.Style>
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Alt" />
                                    </Grid>
                                </Lay:LayToggleButton>
                                <Lay:LayButton
                                    Grid.Column="25"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.Home}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Home" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayButton
                                    Grid.Column="27"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.End}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding DefaultButtonStyle}">
                                    <Grid Margin="10,4">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="End" />
                                    </Grid>
                                </Lay:LayButton>
                                <Lay:LayToggleButton
                                    Grid.Column="29"
                                    Grid.ColumnSpan="2"
                                    CommandParameter="{Binding Source={x:Static Key.RightCtrl}}"
                                    Focusable="{TemplateBinding Focusable}"
                                    Style="{TemplateBinding ExtendButtonStyle}">
                                    <Grid Margin="10,4">
                                        <Grid.Style>
                                            <Style TargetType="Grid">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Lay:LayKeyboard}, Path=IsCtrlExtend}" Value="false">
                                                        <Setter Property="Opacity" Value="0.5" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Grid.Style>
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Text="Ctrl" />
                                    </Grid>
                                </Lay:LayToggleButton>
                            </ItemsControl>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style BasedOn="{StaticResource LayKeyboardStyle}" TargetType="Lay:LayKeyboard" />
</ResourceDictionary>